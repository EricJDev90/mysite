import{b as G}from"./chunk-KH3QXXUH.js";import{E as V,F as k,I as K,M as O,O as B,V as W,b as I,l as D,p as E,t as b,y as T}from"./chunk-MNMWCCND.js";import{Fa as S,M as C,Na as d,Pa as w,S as f,Sa as s,Ta as l,Y as p,Ya as v,Z as g,Za as m,_a as c,bb as P,hb as h,ib as u,kb as _,lb as y,mb as x,ra as a,za as M}from"./chunk-JMXXPQVF.js";import"./chunk-5J3BWWGM.js";import"./chunk-TS5USMNR.js";import"./chunk-PPJGD2KL.js";import"./chunk-RLXBKCA4.js";import"./chunk-G3CV3VGG.js";import"./chunk-ML2QELMP.js";import"./chunk-2OCNK6BA.js";import"./chunk-L36DP6CZ.js";import"./chunk-4U6PRYVA.js";import"./chunk-BTS5SJXR.js";import"./chunk-JWIEPCRG.js";import"./chunk-QPVVTFFW.js";import"./chunk-J6ICYO4L.js";import"./chunk-LF5XB4YN.js";import"./chunk-P2ORHKTI.js";var L=(()=>{let i=class i{getKeysByValue(t,e){return Object.keys(t).filter(n=>t[n]===e)}};i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=C({token:i,factory:i.\u0275fac,providedIn:"root"});let o=i;return o})();function F(o,i){if(o&1){let r=v();s(0,"div",2)(1,"div",3),h(2),l(),s(3,"p",4),h(4),l()(),s(5,"ion-textarea",5),x("ngModelChange",function(e){p(r);let n=c();return y(n.inputString,e)||(n.inputString=e),g(e)}),l(),s(6,"ion-row")(7,"ion-col")(8,"ion-button",6),m("click",function(){p(r);let e=c();return g(e.encode())}),h(9),l()(),s(10,"ion-col")(11,"ion-button",7),m("click",function(){p(r);let e=c();return g(e.decode())}),h(12),l()()(),s(13,"ion-item")(14,"ion-textarea",8),x("ngModelChange",function(e){p(r);let n=c();return y(n.outputMessage,e)||(n.outputMessage=e),g(e)}),l()()}if(o&2){let r=c();a(2),u(r.cipherPageData.Title),a(2),u(r.cipherPageData.Message),a(),P("placeholder",r.cipherPageData.InputPlaceholderMessage),_("ngModel",r.inputString),d("autoGrow",!0),a(4),u(r.cipherPageData.EncodeButtonText),a(3),u(r.cipherPageData.DecodeButtonText),a(2),_("ngModel",r.outputMessage),d("autoGrow",!0)("readonly",!0)}}var Y=(()=>{let i=class i{constructor(){this.stateService=f(G),this.helperService=f(L),this.cipherKey=null,this.outputMessage="",this.inputString="",this.isToastOpen=!1,this.toastMessage="A file with that name is already uploaded. Please rename and try again"}ngOnInit(){this.stateService.data.subscribe(t=>this.cipherPageData=t==null?void 0:t.CipherPageData),this.stateService.cipherKey.subscribe(t=>this.cipherKey=t)}encode(){var t;if(!this.validateInput(this.inputString.toLowerCase())){this.setOpen(!0,(t=this.cipherPageData)!=null&&t.ErrorMessageEncode?this.cipherPageData.ErrorMessageEncode:"");return}this.cipherKey&&(this.outputMessage=Array.from(this.inputString.toLowerCase()).map(e=>this.cipherKey[e]!==void 0?this.cipherKey[e]:"").join(""))}decode(){var t;if(!this.validateInput(this.inputString.toLowerCase(),!0)){this.setOpen(!0,(t=this.cipherPageData)!=null&&t.ErrorMessageDecode?this.cipherPageData.ErrorMessageDecode:"");return}this.outputMessage="";try{let e=0;for(;e<this.inputString.length;)if(e+3<=this.inputString.length&&this.inputString[e]==="2")this.outputMessage+=this.helperService.getKeysByValue(this.cipherKey,this.inputString.substring(e,e+3)),e+=3;else{let n=Math.min(e+5,this.inputString.length);this.outputMessage+=this.helperService.getKeysByValue(this.cipherKey,this.inputString.substring(e,n)),e+=5}}catch{console.log("Error")}}validateInput(t,e){return t.length==0?!1:(e?/^[012]+$/:/^[a-z0-9 ]+$/).test(t)}setOpen(t,e){this.toastMessage=e,this.isToastOpen=t}};i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=M({type:i,selectors:[["app-cipher"]],decls:4,vars:4,consts:[[1,"container"],[3,"didDismiss","isOpen","message","duration"],[1,"pageBackground"],[1,"pageTitle"],[1,"pageExtra"],["label","Enter Text","labelPlacement","floating","fill","outline",3,"ngModelChange","ngModel","autoGrow","placeholder"],["color","warning","expand","block",3,"click"],["color","danger","expand","block",3,"click"],[3,"ngModelChange","ngModel","autoGrow","readonly"]],template:function(e,n){e&1&&(s(0,"ion-content")(1,"div",0),S(2,F,15,10),l(),s(3,"ion-toast",1),m("didDismiss",function(){return n.setOpen(!1,"")}),l()()),e&2&&(a(2),w(n.cipherPageData?2:-1),a(),d("isOpen",n.isToastOpen)("message",n.toastMessage)("duration",5e3))},dependencies:[k,T,I,b,D,E,K,W,O,V,B],encapsulation:2});let o=i;return o})();export{Y as CipherPage};
